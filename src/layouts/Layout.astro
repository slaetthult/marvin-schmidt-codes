---
import '@styles/styles.css';
import SiteHeader from "@components/base/SiteHeader.astro";
import SiteFooter from "@components/base/SiteFooter.astro";
import SiteGridLines from "@components/base/SiteGridLines.astro";

const {
    title,
    noindex = false
} = Astro.props;

const currentPageUrl = Astro.url;
---

<!DOCTYPE html>
<html lang="de" dir="ltr">
	<head>
		<meta charset="UTF-8">
        {noindex &&
            <meta name="robots" content="noindex, nofollow">
        }
        <meta name="title" content={title}>
		<meta name="description" content="Mit Fokus auf Performance, Accessibility und sauberen Code entwickle ich Web-Erlebnisse, die Nutzer lieben und Unternehmen voranbringen – minimalistisch gedacht, detailverliebt umgesetzt, vom Design bis zur fertigen Website.">
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
		<meta name="generator" content={Astro.generator}>
        <meta http-equiv="Content-Security-Policy" content="font-src 'self';">

        <meta property="og:title" content="Marvin Schmidt - Frontend Developer">
        <meta property="og:description" content="Mit Fokus auf Performance, Accessibility und sauberen Code entwickle ich Web-Erlebnisse, die Nutzer lieben und Unternehmen voranbringen – minimalistisch gedacht, detailverliebt umgesetzt, vom Design bis zur fertigen Website.">
        <meta property="og:type" content="website">
        <meta property="og:url" content={import.meta.env.PUBLIC_PAGE_URL}>
        <meta property="og:image" content=`${import.meta.env.PUBLIC_PAGE_URL}/share-image.png`>

        <meta name="twitter:title" content="Marvin Schmidt - Frontend Developer">
        <meta name="twitter:description" content="Mit Fokus auf Performance, Accessibility und sauberen Code entwickle ich Web-Erlebnisse, die Nutzer lieben und Unternehmen voranbringen – minimalistisch gedacht, detailverliebt umgesetzt, vom Design bis zur fertigen Website.">
        <meta name="twitter:image" content=`${import.meta.env.PUBLIC_PAGE_URL}/share-image.png`>
        <meta name="twitter:card" content="summary">

        <link rel="canonical" href={currentPageUrl}>

        <script type="text/javascript" charset="UTF-8" src="//cdn.cookie-script.com/s/ae334739f32918479c72d8391642d48e.js"></script>

        <link rel="preload" href="/fonts/poppins-v24-latin/poppins-v24-latin-200.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/fonts/poppins-v24-latin/poppins-v24-latin-200italic.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/fonts/poppins-v24-latin/poppins-v24-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/fonts/space-grotesk-v22-latin-300.woff2" as="font" type="font/woff2" crossorigin>

        <link rel="preload" href="/fonts/fonts.css" as="style">
        <link rel="stylesheet" href="/fonts/fonts.css">

        <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="/favicon-48x48.png" sizes="48x48">
        <link rel="icon" type="image/svg+xml" href="/favicon.svg">

		<title>{title}</title>

        <style is:inline>
        #cookiescript_accept {
            color: #1C1C1C !important;
            border-radius: 0 !important;
        }
        #cookiescript_reject {
            border-radius: 0 !important;
        }
        #cookiescript_injected {
            border-radius: 0 !important;
        }
        </style>

        <script type="application/ld+json" is:inline>
            {
                "@context": "https://schema.org",
                "@type": "Person",
                "name": "Marvin Schmidt",
                "jobTitle": [
                    "Frontend Architect",
                    "Senior Frontend Developer"
                ],
                "description": "Frontend Architect mit Fokus auf Performance, Accessibility und sauberen Code. Unterstützung von Strategie über Design und Entwicklung bis SEO-Optimierung und langfristiger Betreuung.",
                "url": "https://marvin-schmidt-codes.website",
                "image": "https://marvin-schmidt-codes.website/share-image.png",
                "sameAs": [
                    "https://www.instagram.com/marvincschmidt"
                ]
            }
        </script>

	</head>
	<body class="font-primary bg-main-background text-white font-extralight text-xl lg:text-2xl leading-28 lg:leading-32">
        <SiteHeader/>
        <main class="site-main my-55 lg:my-160">
            <slot />
        </main>
        <SiteFooter />
        <SiteGridLines/>
	</body>
</html>

<script>
    import { lazyLoadWhenIdle } from '@scripts/utils/lazy-load-when-idle';

    import('@scripts/base/scroll-reveal').then((module) => {
        const { scrollReveal } = module;
        scrollReveal.init();
    });

    lazyLoadWhenIdle(() => import('@scripts/base/image-parallax.js'), {
        selector: '*[data-parallax]',
        rootMargin: '0px 0px 20% 0px',
        onLoad: ({ imageParallax }) => imageParallax?.init?.()
    });

    if(window.innerWidth >= 1024){
        import('@scripts/base/stars-effect').then((module) => {
            const { starsEffect } = module;
            starsEffect.init();
        });
    }
    
    const $imageTiltElements = document.querySelector('*[data-image-tilt-effect]');
    if($imageTiltElements && window.innerWidth >= 1024){
        import('@scripts/base/image-tile-effect').then((module) => {
            const { imageTileEffect } = module;
            imageTileEffect.init();
        });
    }

</script>

