---
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';
import 'swiper/css/effect-fade';

const {swiperSettings = '', className = ''} = Astro.props;
---
<div class=`swiper ${className}` data-swiper data-swiper-settings={swiperSettings}>
    <div class="swiper-wrapper !static">
        <slot />
    </div>

    <slot name="button-prev">
        <button class="swiper-button-prev" aria-label="NÃ¤chster Slide"></button>
    </slot>

    <slot name="pagination">
        <div class="swiper-pagination"></div>
    </slot>

    <slot name="button-next">
        <button class="swiper-button-next" aria-label="Vorheriger Slide"></button>
    </slot>
</div>

<script>
    import { lazyLoadWhenIdle } from '@scripts/utils/lazy-load-when-idle';
    lazyLoadWhenIdle(() => import('@scripts/partials/swiper-slider.js'), {
        selector: '*[data-swiper]',
        onLoad: ({ swiperSlider }) => swiperSlider?.init?.()
    });
</script>